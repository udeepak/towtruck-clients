define(["util"], function (util) {
  function clean(t) {
    t = t.replace(/[<][%]\s*\/\*[\S\s\r\n]*\*\/\s*[%][>]/, "");
    t = util.trim(t);
    t = t.replace(/http:\/\/localhost:8080/g, TowTruck.baseUrl);
    return t;
  }
  return {
    chat: clean("<div class=\"towtruck-container towtruck-chat\">\n  <!--\n    This is everything TowTruck shows.  Much of what it does is defined in ui.js\n  -->\n  <div id=\"towtruck-templates\" style=\"display: none\">\n\n    <!-- These elements are cloned to create UI; the ID identifies the template\n         (the id is erased from the cloned element) and everything else is set via\n         ad hoc classes and jQuery: -->\n\n    <img id=\"towtruck-template-triangle\" src=\"http://localhost:8080/images/box-arrow-left.png\" class=\"triangle\">\n\n    <div id=\"towtruck-template-chat-message\" class=\"towtruck-chat-message towtruck-chat-real\">\n      <span class=\"towtruck-arrow-control\" style=\"display: none\">\n        <input type=\"checkbox\" class=\"towtruck-arrow-checkbox\">\n      </span>\n      <div class=\"towtruck-avatar\"><img src=\"http://localhost:8080/images/default-avatar.png\"></div>\n\t  <div class=\"towtruck-timestamp\">12:23 <span class=\"ampm\">PM</span></div>\n      <span class=\"towtruck-arrow-control\" style=\"display: none\">\n        <input type=\"checkbox\" class=\"towtruck-arrow-checkbox\">\n      </span>\n      <div class=\"towtruck-person\">Aaron</div>\n      <div class=\"towtruck-chat-content\"></div>\n    </div>\n\n    <div id=\"towtruck-template-url-change\" class=\"towtruck-chat-message\">\n      <div class=\"towtruck-avatar\"><img src=\"http://localhost:8080/images/default-avatar.png\"></div>\n      <div class=\"towtruck-timestamp\">12:23 <span class=\"ampm\">PM</span></div>\n      <div class=\"towtruck-person\"></div>\n      <div class=\"towtruck-chat-content\">\n        I've gone to: <a href=\"#\" class=\"towtruck-url\" target=\"_self\"></a>\n      </div>\n    </div>\n\n    <div id=\"towtruck-template-chat-left\" class=\"towtruck-chat-message\">\n      <span class=\"towtruck-person\"></span> left the session.\n    </div>\n\n    <div id=\"towtruck-template-chat-system\" class=\"towtruck-chat-message\">\n      <span class=\"towtruck-chat-content\"></span>\n    </div>\n\n  </div>\n\n  <!-- HEADER BAR -->\n  <div id=\"towtruck-topbar\"><div class=\"arrow-up\"></div>\n    <div class=\"towtruck-header\">\n      <div class=\"towtruck-chat towtruck-screen\">Chat</div>\n      <div class=\"towtruck-info towtruck-screen\">TowTruck</div>\n      <div class=\"towtruck-end-confirm towtruck-screen\">End TowTruck session?</div>\n    </div>\n    <div class=\"towtruck-close towtruck-fade\" data-walkabout-disable=\"1\"><img src=\"http://localhost:8080/images/btn-close.png\"></div>\n    <div class=\"towtruck-minimize towtruck-fade\"><img src=\"http://localhost:8080/images/btn-minimize.png\"></div>\n    <div class=\"towtruck-dock towtruck-fade\">d</div>\n  </div>\n\n  <!-- LEFT NAV BAR -->\n  <div id=\"towtruck-leftnavbar\">\n    <div id=\"towtruck-nav-btns\">\n      <ul>\n      <li>\n        <button class=\"left-nav-btn info towtruck-fade towtruck-info\" data-activate=\"towtruck-info\"><img src=\"http://localhost:8080/images/icn-info.png\"></button>\n        <!-- <img src=\"http://localhost:8080/images/box-arrow-left.png\" class=\"triangle\"> -->\n      </li>\n      <li>\n        <button class=\"left-nav-btn communicate towtruck-fade\" data-activate=\"towtruck-chat\"><img src=\"http://localhost:8080/images/icn-communicate.png\"></button>\n      </li>\n      <li>\n        <button class=\"left-nav-btn communicate towtruck-fade\" data-activate=\"towtruck-rtc\">v</button>\n      </li>\n      <ul>\n    </div>\n    <div id=\"towtruck-pop-btns\">\n      <a href=\"#\" class=\"popout towtruck-fade\"><img src=\"http://localhost:8080/images/icn-popout.png\"></a>\n    </div>\n  </div>\n\n  <!-- RIGHT SIDE BODY -->\n  <div id=\"towtruck-body\">\n\n    <div class=\"towtruck-info towtruck-screen\">\n\n      <div class=\"box\">\n        <p>Simply send this link to a friend to get started!</p>\n        <input type=\"text\" value=\"http://twtrk.html/1RtGRqQRLm\" class=\"towtruck-input-link\">\n        <!--<a class=\"button\" href=\"#\">Copy</a>-->\n      </div>\n      <!-- FIX ME -- the value in the input needs to be auto-highlighted onLoad -->\n      <!-- <div class=\"towtruck-link\"></div> -->\n\n      <div class=\"box\">\n        <p>My name:</p>\n        <input type=\"text\" placeholder=\"Type your name\" class=\"towtruck-input-name\">\n        <span id=\"towtruck-name-waiting\" style=\"display: none\">...</span>\n        <span id=\"towtruck-name-confirmation\">&#x2713;</span>\n\t\t<!-- FIX ME -- checkmark should turn green when name is entered -->\n      </div>\n\n\t<div class=\"box\">\n        <p>My picture:</p>\n\t\t<span class=\"towtruck-avatar\"><img src=\"http://localhost:8080/images/default-avatar.png\"></span>\n\t\t<!-- FIX ME - when user hovers over the picture, there should be some text that says to \"change\" their picture -->\n      </div>\n\n    </div>\n\n    <div class=\"towtruck-chat towtruck-screen\">\n\t  <div class=\"towtruck-chat video-box\">\n\t\t<div class=\"towtruck-chat video-screen\"></div>\n\t\t<div class=\"towtruck-chat video-toolbox\">\n\t\t\t<p class=\"towtruck-chat-toolbox-icons\"><a href=\"#\"><img src=\"http://localhost:8080/images/icn-mic-on.png\"></a><a href=\"#\"><img src=\"http://localhost:8080/images/icn-video-on.png\"></a></p>\n\t\t</div>\n\t  </div>\n      <div class=\"towtruck-upper-box\">\n        <div class=\"towtruck-test-container\" style=\"display: none\"></div>\n        <div class=\"towtruck-chat-container\"></div>\n      </div>\n      <div class=\"towtruck-lower-box\">\n        <input type=\"text\" placeholder=\"Write your message\" class=\"towtruck-chat-input\" data-walkabout-keyup=\"{which: 13, before: 'randomValue'}\">\n      </div>\n    </div>\n\n\t  <div class=\"towtruck-end-confirm towtruck-screen\">\n\t     <p>Would you like to end your TowTruck session?</p>\n\t\t <div class=\"towtruck-button-end-confirmation\"><button class=\"button cancel\" id=\"towtruck-cancel-end\">No</button><button class=\"button confirm\" id=\"towtruck-end-session\">Yes</button></div>\n\t  </div>\n\n    <div class=\"towtruck-rtc towtruck-screen\">\n      <!-- This is the video of yourself: -->\n      <video id=\"towtruck-video-me\" style=\"height: 20%; width: 20%;\" muted></video>\n      <!-- This is the video of the other person: -->\n      <video id=\"towtruck-video\" style=\"height: 60%; width: 100%;\"></video>\n      <div style=\"text-align: center\">\n        <button id=\"towtruck-mute\" class=\"button\" style=\"float: none\">Mute</button>\n      </div>\n    </div>\n\n  </div>\n\n</div>\n"),
    help: clean("<% /*\n\n  This is used to show the help when you type /help.  Used in\n  TowTruck.localChatMessage().\n*/ %>\n/help : this message\n/stickyshare ID : use #&towtruck=ID for the share link (no ID to reset)\n/test : run an automated/randomized test (or stop one that is in progress)\n  /test start N : run N times (instead of default 100)\n  /test show : show what kind of actions the random test would take (or stop showing)\n  /test describe : describe the possible actions (instead of showing them)\n/clear : clear the chat area\n"),
    walkabout: clean("<div class=\"towtruck-status\"></div>\n<!--\nThis is used to show the walkabout.js test status (in chat.js).  Right\nnow a string is just inserted into .towtruck-status\n-->\n")
  };
});
